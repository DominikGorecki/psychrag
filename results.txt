======================================================================================== test session starts =========================================================================================
platform win32 -- Python 3.12.2, pytest-9.0.1, pluggy-1.6.0
rootdir: C:\code\python\psychRAG-test
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.11.0, Faker-38.2.0, langsmith-0.4.47, logfire-4.15.1, asyncio-1.3.0, html-4.1.1, markdown-docs-0.9.0, metadata-3.1.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1040 items

tests\unit\test_ai_config.py ................................                                                                                                                                   [  3%]
tests\unit\test_api_endpoints.py ...F...........                                                                                                                                                [  4%]
tests\unit\test_app_config.py ...............................                                                                                                                                   [  7%]
tests\unit\test_apply_title_changes.py ...............EEEEEEEEEEEE                                                                                                                              [ 10%]
tests\unit\test_apply_title_edits.py .............................                                                                                                                              [ 12%]
tests\unit\test_augment.py .FF...........                                                                                                                                                       [ 14%]
tests\unit\test_bib_extractor.py ..................................                                                                                                                             [ 17%]
tests\unit\test_chunk_headings.py .......................................                                                                                                                       [ 21%]
tests\unit\test_chunk_model.py ................                                                                                                                                                 [ 22%]
tests\unit\test_consolidate_context.py ............................................................                                                                                             [ 28%]
tests\unit\test_content_chunking.py ...............................................                                                                                                             [ 33%]
tests\unit\test_conv_epub2md.py ............                                                                                                                                                    [ 34%]
tests\unit\test_conv_pdf2md.py ...........                                                                                                                                                      [ 35%]
tests\unit\test_conversion_api_endpoints.py ...........                                                                                                                                         [ 36%]
tests\unit\test_database.py ....                                                                                                                                                                [ 36%]
tests\unit\test_db_health_check.py ...................................                                                                                                                          [ 40%]
tests\unit\test_delete_conversion.py EEEEEEEEE                                                                                                                                                  [ 40%]
tests\unit\test_env_utils.py ...............                                                                                                                                                    [ 42%]
tests\unit\test_extract_titles.py ...........................EEEEEEEEEEE                                                                                                                        [ 46%]
tests\unit\test_extract_toc.py .............................                                                                                                                                    [ 48%]
tests\unit\test_init_db.py ...F...                                                                                                                                                              [ 49%]
tests\unit\test_inspection.py ........                                                                                                                                                          [ 50%]
tests\unit\test_io_file_model.py .............                                                                                                                                                  [ 51%]
tests\unit\test_io_folder_data.py ............................                                                                                                                                  [ 54%]
tests\unit\test_llm_citation_parser.py ...........                                                                                                                                              [ 55%]
tests\unit\test_llm_factory.py ...........................................................                                                                                                      [ 60%]
tests\unit\test_llm_processor.py .........................                                                                                                                                      [ 63%]
tests\unit\test_new_work.py ................                                                                                                                                                    [ 64%]
tests\unit\test_original_markdown.py .....                                                                                                                                                      [ 65%]
tests\unit\test_pdf_bookmarks2toc.py ................                                                                                                                                           [ 66%]
tests\unit\test_prompt_meta_model.py EEEEEEE...EEEEEEEEEE                                                                                                                                       [ 68%]
tests\unit\test_prompt_template_model.py EEEEEEEEEEEEEEEEEEE                                                                                                                                    [ 70%]
tests\unit\test_query_embeddings.py ....EEEEEEEEEEEEEEEEEE                                                                                                                                      [ 72%]
tests\unit\test_query_expansion.py ................EEE......                                                                                                                                    [ 75%]
tests\unit\test_query_model.py ...................                                                                                                                                              [ 77%]
tests\unit\test_rag_config_api.py .FFF..F.......                                                                                                                                                [ 78%]
tests\unit\test_rag_config_db.py .......F.....                                                                                                                                                  [ 79%]
tests\unit\test_rag_config_integration.py ...............                                                                                                                                       [ 81%]
tests\unit\test_rag_config_loader.py ........F..F.                                                                                                                                              [ 82%]
tests\unit\test_result_model.py ...........                                                                                                                                                     [ 83%]
tests\unit\test_retrieve.py ...................................EEEEEEEEEEEE                                                                                                                     [ 87%]
tests\unit\test_seed_templates.py ..............                                                                                                                                                [ 89%]
tests\unit\test_style_v_hier.py .....................................                                                                                                                           [ 92%]
tests\unit\test_suggested_chunks.py .................................                                                                                                                           [ 95%]
tests\unit\test_template_loader.py ...........                                                                                                                                                  [ 97%]
tests\unit\test_templates_api.py ..........................                                                                                                                                     [ 99%]
tests\unit\test_work_model.py .....                                                                                                                                                             [100%]

=============================================================================================== ERRORS ===============================================================================================
_____________________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_success _____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 454
      @patch('psychrag.sanitization.apply_title_changes.compute_file_hash')
      @patch('psychrag.sanitization.apply_title_changes.set_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.is_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_success(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:454
_______________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_overwrite_readonly ________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 547
      @patch('psychrag.sanitization.apply_title_changes.compute_file_hash')
      @patch('psychrag.sanitization.apply_title_changes.set_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.set_file_writable')
      @patch('psychrag.sanitization.apply_title_changes.is_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_overwrite_readonly(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:547
____________________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_not_found ____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 622
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_not_found(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:622
____________________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_no_files _____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 633
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_no_files(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:633
_______________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_invalid_source_key ________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 648
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_invalid_source_key(self, mock_get_session, session, tmp_path):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:648
______________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_missing_markdown_file ______________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 668
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_missing_markdown_file(self, mock_get_session, session, tmp_path):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:668
___________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_missing_title_changes_file ____________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 687
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_missing_title_changes_file(self, mock_get_session, session, tmp_path):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:687
__________________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_hash_mismatch __________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 706
      @patch('psychrag.sanitization.apply_title_changes.compute_file_hash')
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_hash_mismatch(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:706
_______________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_hash_mismatch_force _______________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 754
      @patch('psychrag.sanitization.apply_title_changes.compute_file_hash')
      @patch('psychrag.sanitization.apply_title_changes.set_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.is_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_hash_mismatch_force(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:754
________________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_sanitized_source _________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 813
      @patch('psychrag.sanitization.apply_title_changes.compute_file_hash')
      @patch('psychrag.sanitization.apply_title_changes.set_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.is_file_readonly')
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_sanitized_source(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:813
___________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_markdown_not_found_on_disk ____________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 880
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_markdown_not_found_on_disk(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:880
_________________________________________ ERROR at setup of TestApplyTitleChangesFromWork.test_apply_title_changes_from_work_title_changes_not_found_on_disk _________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py, line 920
      @patch('psychrag.sanitization.apply_title_changes.get_session')
      def test_apply_title_changes_from_work_title_changes_not_found_on_disk(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_apply_title_changes.py:920
_______________________________________________________________ ERROR at setup of TestDeleteConversion.test_delete_conversion_success ________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 18
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_success(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:18
__________________________________________________________ ERROR at setup of TestDeleteConversion.test_delete_conversion_no_matching_files ___________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 83
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_no_matching_files(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:83
_____________________________________________________________ ERROR at setup of TestDeleteConversion.test_delete_conversion_verbose_mode _____________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 124
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_verbose_mode(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:124
____________________________________________________ ERROR at setup of TestDeleteConversionErrorHandling.test_delete_conversion_io_file_not_found ____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 169
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_io_file_not_found(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:169
______________________________________________ ERROR at setup of TestDeleteConversionErrorHandling.test_delete_conversion_invalid_filename_no_extension ______________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 179
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_invalid_filename_no_extension(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:179
__________________________________________________ ERROR at setup of TestDeleteConversionErrorHandling.test_delete_conversion_output_dir_not_exists __________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 209
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_output_dir_not_exists(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:209
_______________________________________________ ERROR at setup of TestDeleteConversionErrorHandling.test_delete_conversion_file_deletion_error_handled _______________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 238
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_file_deletion_error_handled(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:238
____________________________________________ ERROR at setup of TestDeleteConversionCascadeDeletion.test_delete_conversion_only_deletes_matching_base_name ____________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 294
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_only_deletes_matching_base_name(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:294
__________________________________________________ ERROR at setup of TestDeleteConversionCascadeDeletion.test_delete_conversion_multiple_extensions __________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py, line 355
      @patch('psychrag.sanitization.delete_conversion.load_config')
      @patch('psychrag.sanitization.delete_conversion.get_session')
      def test_delete_conversion_multiple_extensions(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_delete_conversion.py:355
_________________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_success __________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 400
      @patch('psychrag.sanitization.extract_titles.compute_file_hash')
      @patch('psychrag.sanitization.extract_titles.set_file_readonly')
      @patch('psychrag.sanitization.extract_titles.set_file_writable')
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_success(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:400
_____________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_sanitized_source _____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 465
      @patch('psychrag.sanitization.extract_titles.compute_file_hash')
      @patch('psychrag.sanitization.extract_titles.set_file_readonly')
      @patch('psychrag.sanitization.extract_titles.set_file_writable')
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_sanitized_source(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:465
________________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_not_found _________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 517
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_not_found(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:517
_________________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_no_files _________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 528
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_no_files(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:528
____________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_invalid_source_key ____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 543
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_invalid_source_key(self, mock_get_session, session, tmp_path):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:543
___________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_missing_source_file ____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 563
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_missing_source_file(self, mock_get_session, session, tmp_path):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:563
__________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_file_not_found_on_disk __________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 582
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_file_not_found_on_disk(self, mock_get_session, session, tmp_path):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:582
______________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_hash_mismatch _______________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 608
      @patch('psychrag.sanitization.extract_titles.compute_file_hash')
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_hash_mismatch(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:608
___________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_hash_mismatch_force ____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 643
      @patch('psychrag.sanitization.extract_titles.compute_file_hash')
      @patch('psychrag.sanitization.extract_titles.set_file_readonly')
      @patch('psychrag.sanitization.extract_titles.set_file_writable')
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_hash_mismatch_force(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:643
____________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_overwrite_existing ____________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 689
      @patch('psychrag.sanitization.extract_titles.compute_file_hash')
      @patch('psychrag.sanitization.extract_titles.set_file_readonly')
      @patch('psychrag.sanitization.extract_titles.set_file_writable')
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_overwrite_existing(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:689
_______________________________________________________ ERROR at setup of TestExtractTitlesFromWork.test_extract_titles_from_work_no_headings ________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py, line 744
      @patch('psychrag.sanitization.extract_titles.compute_file_hash')
      @patch('psychrag.sanitization.extract_titles.set_file_readonly')
      @patch('psychrag.sanitization.extract_titles.set_file_writable')
      @patch('psychrag.sanitization.extract_titles.get_session')
      def test_extract_titles_from_work_no_headings(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_extract_titles.py:744
_______________________________________________________________ ERROR at setup of TestPromptMetaCreation.test_create_prompt_meta_basic _______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 18
      def test_create_prompt_meta_basic(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:18
__________________________________________________________ ERROR at setup of TestPromptMetaCreation.test_create_prompt_meta_with_variables ___________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 33
      def test_create_prompt_meta_with_variables(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:33
_________________________________________________________________________ ERROR at setup of TestPromptMetaCreation.test_repr _________________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 49
      def test_repr(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:49
_______________________________________________________________ ERROR at setup of TestPromptMetaVariableDict.test_variable_dict_empty ________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 70
      def test_variable_dict_empty(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:70
_____________________________________________________________ ERROR at setup of TestPromptMetaVariableDict.test_variable_dict_conversion _____________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 81
      def test_variable_dict_conversion(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:81
___________________________________________________________ ERROR at setup of TestPromptMetaVariableDict.test_variable_dict_missing_fields ___________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 101
      def test_variable_dict_missing_fields(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:101
___________________________________________________________ ERROR at setup of TestPromptMetaVariableDict.test_variable_dict_non_dict_items ___________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 123
      def test_variable_dict_non_dict_items(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:123
__________________________________________________________ ERROR at setup of TestPromptMetaConstraints.test_unique_function_tag_constraint ___________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 182
      def test_unique_function_tag_constraint(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:182
_______________________________________________________________ ERROR at setup of TestPromptMetaConstraints.test_function_tag_required _______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 201
      def test_function_tag_required(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:201
________________________________________________________________ ERROR at setup of TestPromptMetaConstraints.test_variables_required _________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 212
      def test_variables_required(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:212
____________________________________________________________________ ERROR at setup of TestPromptMetaCRUD.test_create_prompt_meta ____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 242
      def test_create_prompt_meta(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:242
_____________________________________________________________________ ERROR at setup of TestPromptMetaCRUD.test_read_prompt_meta _____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 254
      def test_read_prompt_meta(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:254
____________________________________________________________________ ERROR at setup of TestPromptMetaCRUD.test_update_prompt_meta ____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 270
      def test_update_prompt_meta(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:270
____________________________________________________________________ ERROR at setup of TestPromptMetaCRUD.test_delete_prompt_meta ____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 291
      def test_delete_prompt_meta(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:291
__________________________________________________________________ ERROR at setup of TestPromptMetaCRUD.test_query_by_function_tag ___________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 309
      def test_query_by_function_tag(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:309
______________________________________________________________ ERROR at setup of TestPromptMetaTimestamps.test_timestamps_auto_populate ______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 333
      def test_timestamps_auto_populate(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:333
_________________________________________________________ ERROR at setup of TestPromptMetaTimestamps.test_multiple_meta_different_timestamps _________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py, line 348
      def test_multiple_meta_different_timestamps(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_prompt_meta_model.py:348
______________________________________________________________ ERROR at setup of TestPromptTemplateCreation.test_create_prompt_template ______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 17
      def test_create_prompt_template(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:17
__________________________________________________________________ ERROR at setup of TestPromptTemplateCreation.test_default_values __________________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 39
      def test_default_values(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:39
_______________________________________________________________________ ERROR at setup of TestPromptTemplateCreation.test_repr _______________________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 56
      def test_repr(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:56
__________________________________________________________ ERROR at setup of TestPromptTemplateValidation.test_version_validation_positive ___________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 78
      def test_version_validation_positive(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:78
____________________________________________________________ ERROR at setup of TestPromptTemplateValidation.test_version_validation_zero _____________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 91
      def test_version_validation_zero(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:91
__________________________________________________________ ERROR at setup of TestPromptTemplateValidation.test_version_validation_negative ___________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 103
      def test_version_validation_negative(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:103
_______________________________________________________________ ERROR at setup of TestPromptTemplateConstraints.test_unique_constraint _______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 119
      def test_unique_constraint(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:119
_____________________________________________________________ ERROR at setup of TestPromptTemplateConstraints.test_function_tag_required _____________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 143
      def test_function_tag_required(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:143
___________________________________________________________ ERROR at setup of TestPromptTemplateConstraints.test_template_content_required ___________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 156
      def test_template_content_required(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:156
_______________________________________________________ ERROR at setup of TestPromptTemplateConstraints.test_check_constraint_version_positive _______________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 169
      def test_check_constraint_version_positive(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:169
_______________________________________________________________ ERROR at setup of TestPromptTemplateQueries.test_query_by_function_tag _______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 216
      def test_query_by_function_tag(self, session, sample_templates):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_templates, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:216
_______________________________________________________________ ERROR at setup of TestPromptTemplateQueries.test_query_active_template _______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 225
      def test_query_active_template(self, session, sample_templates):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_templates, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:225
______________________________________________________________ ERROR at setup of TestPromptTemplateQueries.test_query_specific_version _______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 236
      def test_query_specific_version(self, session, sample_templates):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_templates, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:236
_________________________________________________________________ ERROR at setup of TestPromptTemplateQueries.test_query_no_results __________________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 247
      def test_query_no_results(self, session, sample_templates):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_templates, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:247
_____________________________________________________________ ERROR at setup of TestPromptTemplateQueries.test_query_multiple_functions ______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 255
      def test_query_multiple_functions(self, session, sample_templates):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_templates, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:255
_____________________________________________________ ERROR at setup of TestPromptTemplateLangChainCompatibility.test_langchain_template_loading _____________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 269
      def test_langchain_template_loading(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:269
_____________________________________________ ERROR at setup of TestPromptTemplateLangChainCompatibility.test_langchain_template_with_multiple_variables _____________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 291
      def test_langchain_template_with_multiple_variables(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:291
______________________________________________________________ ERROR at setup of TestPromptTemplateUpdates.test_update_template_content ______________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 315
      def test_update_template_content(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:315
_______________________________________________________________ ERROR at setup of TestPromptTemplateUpdates.test_toggle_active_status ________________________________________________________________
file c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py, line 336
      def test_toggle_active_status(self, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

c:\code\python\psychRAG-test\tests\unit\test_prompt_template_model.py:336
__________________________________________________________ ERROR at setup of TestGetPendingQueriesCount.test_get_pending_queries_count_zero __________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 106
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_get_pending_queries_count_zero(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:106
_________________________________________________________ ERROR at setup of TestGetPendingQueriesCount.test_get_pending_queries_count_single _________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 115
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_get_pending_queries_count_single(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:115
________________________________________________________ ERROR at setup of TestGetPendingQueriesCount.test_get_pending_queries_count_multiple ________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 131
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_get_pending_queries_count_multiple(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:131
__________________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_basic ___________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 153
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_basic(self, mock_get_session, mock_create_embeddings, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:153
_________________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_with_mqe _________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 198
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_with_mqe(self, mock_get_session, mock_create_embeddings, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:198
________________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_with_hyde _________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 253
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_with_hyde(self, mock_get_session, mock_create_embeddings, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:253
_____________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_with_all_fields ______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 303
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_with_all_fields(self, mock_get_session, mock_create_embeddings, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:303
________________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_not_found _________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 354
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_not_found(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:354
_____________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_embedding_error ______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 362
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_embedding_error(self, mock_get_session, mock_create_embeddings, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:362
_________________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_verbose __________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 394
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_verbose(self, mock_get_session, mock_create_embeddings, session, capsys):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:394
______________________________________________________________ ERROR at setup of TestVectorizeQuery.test_vectorize_query_empty_mqe_list ______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 425
      @patch('psychrag.ai.llm_factory.create_embeddings')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_query_empty_mqe_list(self, mock_get_session, mock_create_embeddings, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:425
_____________________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_empty _____________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 462
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_empty(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:462
________________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_single_success _________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 476
      @patch('psychrag.retrieval.query_embeddings.vectorize_query')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_single_success(self, mock_get_session, mock_vectorize_query, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:476
_______________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_multiple_success ________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 510
      @patch('psychrag.retrieval.query_embeddings.vectorize_query')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_multiple_success(self, mock_get_session, mock_vectorize_query, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:510
_________________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_with_failures _________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 547
      @patch('psychrag.retrieval.query_embeddings.vectorize_query')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_with_failures(self, mock_get_session, mock_vectorize_query, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:547
_________________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_all_failures __________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 596
      @patch('psychrag.retrieval.query_embeddings.vectorize_query')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_all_failures(self, mock_get_session, mock_vectorize_query, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:596
____________________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_verbose ____________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 630
      @patch('psychrag.retrieval.query_embeddings.vectorize_query')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_verbose(self, mock_get_session, mock_vectorize_query, session, capsys):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:630
_______________________________________________________ ERROR at setup of TestVectorizeAllQueries.test_vectorize_all_queries_mixed_embeddings ________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py, line 663
      @patch('psychrag.retrieval.query_embeddings.vectorize_query')
      @patch('psychrag.retrieval.query_embeddings.get_session')
      def test_vectorize_all_queries_mixed_embeddings(self, mock_get_session, mock_vectorize_query, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_embeddings.py:663
______________________________________________________________ ERROR at setup of TestSaveExpansionToDb.test_save_expansion_to_db_basic _______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_expansion.py, line 271
      @patch('psychrag.retrieval.query_expansion.get_session')
      def test_save_expansion_to_db_basic(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_expansion.py:271
___________________________________________________________ ERROR at setup of TestSaveExpansionToDb.test_save_expansion_to_db_empty_fields ___________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_expansion.py, line 299
      @patch('psychrag.retrieval.query_expansion.get_session')
      def test_save_expansion_to_db_empty_fields(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_expansion.py:299
____________________________________________________________ ERROR at setup of TestSaveExpansionToDb.test_save_expansion_to_db_returns_id ____________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_query_expansion.py, line 321
      @patch('psychrag.retrieval.query_expansion.get_session')
      def test_save_expansion_to_db_returns_id(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_query_expansion.py:321
_____________________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_basic _____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 532
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_basic(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:532
________________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_query_not_found ________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 616
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_query_not_found(self, mock_get_config, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:616
_____________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_query_not_vectorized ______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 636
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_query_not_vectorized(self, mock_get_config, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:636
__________________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_no_matches ___________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 660
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_no_matches(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:660
______________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_with_config_preset _______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 699
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_config_by_name')
      def test_retrieve_with_config_preset(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:699
_____________________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_top_k _____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 735
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_top_k(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:735
_______________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_with_mqe_queries ________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 802
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_with_mqe_queries(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:802
_____________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_filters_short_chunks ______________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 865
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_filters_short_chunks(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:865
___________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_with_entities_and_intent ____________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 930
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_with_entities_and_intent(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:930
________________________________________________________________ ERROR at setup of TestRetrieveFunction.test_retrieve_verbose_output _________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 995
      @patch('psychrag.retrieval.retrieve._rerank_chunks')
      @patch('psychrag.retrieval.retrieve._dense_search')
      @patch('psychrag.retrieval.retrieve._lexical_search')
      @patch('psychrag.retrieval.retrieve.get_session')
      @patch('psychrag.retrieval.retrieve.get_default_config')
      def test_retrieve_verbose_output(
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:995
_____________________________________________________________________ ERROR at setup of TestDenseSearch.test_dense_search_mocked _____________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 1036
      @patch('psychrag.retrieval.retrieve.get_session')
      def test_dense_search_mocked(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:1036
___________________________________________________________________ ERROR at setup of TestLexicalSearch.test_lexical_search_mocked ___________________________________________________________________
file C:\code\python\psychRAG-test\tests\unit\test_retrieve.py, line 1081
      @patch('psychrag.retrieval.retrieve.get_session')
      def test_lexical_search_mocked(self, mock_get_session, session):
E       fixture 'session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_faker, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, capfire, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

C:\code\python\psychRAG-test\tests\unit\test_retrieve.py:1081
============================================================================================== FAILURES ==============================================================================================
_________________________________________________________________________________ TestInitRouter.test_init_database __________________________________________________________________________________

self = <tests.unit.test_api_endpoints.TestInitRouter object at 0x000001E70D135070>

    def test_init_database(self):
        """Test database initialization endpoint."""
        response = client.post(
            "/init/database",
            json={"reset": False, "create_indexes": True}
        )
>       assert response.status_code == 201
E       assert 500 == 201
E        +  where 500 = <Response [500 Internal Server Error]>.status_code

tests\unit\test_api_endpoints.py:57: AssertionError
---------------------------------------------------------------------------------------- Captured stdout call ----------------------------------------------------------------------------------------
Database already exists: psych_rag_test
User already exists: psych_rag_app_user_test
Granting privileges to psych_rag_app_user_test on psych_rag_test
Enabling pgvector extension...
pgvector extension enabled
Creating tables...
Tables created successfully
Creating vector indexes...
Vector indexes created successfully
Creating full-text search infrastructure...
Transferred ownership of full-text search function to psych_rag_app_user_test
Full-text search infrastructure created successfully
Creating prompt_meta table...
__________________________________________________________________________ TestGetQueryWithContext.test_get_query_not_found __________________________________________________________________________

self = <tests.unit.test_augment.TestGetQueryWithContext object at 0x000001E70D137770>, mock_get_session = <MagicMock name='get_session' id='2091877568096'>

    @patch('psychrag.augmentation.augment.get_session')
    def test_get_query_not_found(self, mock_get_session):
        """Test error when query not found."""
        mock_session = MagicMock()
        mock_session.query.return_value.filter.return_value.first.return_value = None
        mock_get_session.return_value.__enter__.return_value = mock_session
    
        with pytest.raises(ValueError, match="Query with id=999 not found"):
>           get_query_with_context(999)

tests\unit\test_augment.py:58: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
src\psychrag\augmentation\augment.py:117: in get_query_with_context
    config = get_default_config()
             ^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_default_config() -> dict:
        """
        Get default RAG configuration from database.
    
        Returns the configuration dict for the preset marked as default.
        This is the primary function used by RAG pipeline modules.
    
        Returns:
            Dict with keys: "retrieval", "consolidation", "augmentation".
            Each key contains a dict of parameters for that stage.
    
        Raises:
            RuntimeError: If no default configuration exists in database.
    
        Example:
            >>> config = get_default_config()
            >>> config["retrieval"]["dense_limit"]
            19
            >>> config["consolidation"]["coverage_threshold"]
            0.5
        """
        with get_session() as session:
            config = session.query(RagConfig).filter(RagConfig.is_default == True).first()
            if not config:
>               raise RuntimeError(
                    "No default RAG configuration found in database. "
                    "Run database initialization to create default preset."
                )
E               RuntimeError: No default RAG configuration found in database. Run database initialization to create default preset.

src\psychrag\utils\rag_config_loader.py:46: RuntimeError
_________________________________________________________________________ TestGetQueryWithContext.test_get_query_no_contexts _________________________________________________________________________

self = <tests.unit.test_augment.TestGetQueryWithContext object at 0x000001E70D198470>, mock_get_session = <MagicMock name='get_session' id='2091875416352'>

    @patch('psychrag.augmentation.augment.get_session')
    def test_get_query_no_contexts(self, mock_get_session):
        """Test query with no contexts."""
        mock_query = Mock(spec=Query)
        mock_query.id = 1
        mock_query.clean_retrieval_context = None
    
        mock_session = MagicMock()
        mock_session.query.return_value.filter.return_value.first.return_value = mock_query
        mock_get_session.return_value.__enter__.return_value = mock_session
    
>       query, contexts = get_query_with_context(1)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^

tests\unit\test_augment.py:71: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
src\psychrag\augmentation\augment.py:117: in get_query_with_context
    config = get_default_config()
             ^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_default_config() -> dict:
        """
        Get default RAG configuration from database.
    
        Returns the configuration dict for the preset marked as default.
        This is the primary function used by RAG pipeline modules.
    
        Returns:
            Dict with keys: "retrieval", "consolidation", "augmentation".
            Each key contains a dict of parameters for that stage.
    
        Raises:
            RuntimeError: If no default configuration exists in database.
    
        Example:
            >>> config = get_default_config()
            >>> config["retrieval"]["dense_limit"]
            19
            >>> config["consolidation"]["coverage_threshold"]
            0.5
        """
        with get_session() as session:
            config = session.query(RagConfig).filter(RagConfig.is_default == True).first()
            if not config:
>               raise RuntimeError(
                    "No default RAG configuration found in database. "
                    "Run database initialization to create default preset."
                )
E               RuntimeError: No default RAG configuration found in database. Run database initialization to create default preset.

src\psychrag\utils\rag_config_loader.py:46: RuntimeError
_____________________________________________________________________________ TestInitDatabase.test_calls_both_functions _____________________________________________________________________________

self = <sqlalchemy.engine.base.Connection object at 0x000001E70DB27440>, dialect = <sqlalchemy.dialects.postgresql.psycopg.PGDialect_psycopg object at 0x000001E718E84CB0>
context = <sqlalchemy.dialects.postgresql.psycopg.PGExecutionContext_psycopg object at 0x000001E70DB24770>
statement = <sqlalchemy.dialects.postgresql.psycopg.PGCompiler_psycopg object at 0x000001E70D7A38C0>, parameters = [{}]

    def _exec_single_context(
        self,
        dialect: Dialect,
        context: ExecutionContext,
        statement: Union[str, Compiled],
        parameters: Optional[_AnyMultiExecuteParams],
    ) -> CursorResult[Any]:
        """continue the _execute_context() method for a single DBAPI
        cursor.execute() or cursor.executemany() call.
    
        """
        if dialect.bind_typing is BindTyping.SETINPUTSIZES:
            generic_setinputsizes = context._prepare_set_input_sizes()
    
            if generic_setinputsizes:
                try:
                    dialect.do_set_input_sizes(
                        context.cursor, generic_setinputsizes, context
                    )
                except BaseException as e:
                    self._handle_dbapi_exception(
                        e, str(statement), parameters, None, context
                    )
    
        cursor, str_statement, parameters = (
            context.cursor,
            context.statement,
            context.parameters,
        )
    
        effective_parameters: Optional[_AnyExecuteParams]
    
        if not context.executemany:
            effective_parameters = parameters[0]
        else:
            effective_parameters = parameters
    
        if self._has_events or self.engine._has_events:
            for fn in self.dispatch.before_cursor_execute:
                str_statement, effective_parameters = fn(
                    self,
                    cursor,
                    str_statement,
                    effective_parameters,
                    context,
                    context.executemany,
                )
    
        if self._echo:
            self._log_info(str_statement)
    
            stats = context._get_cache_stats()
    
            if not self.engine.hide_parameters:
                self._log_info(
                    "[%s] %r",
                    stats,
                    sql_util._repr_params(
                        effective_parameters,
                        batches=10,
                        ismulti=context.executemany,
                    ),
                )
            else:
                self._log_info(
                    "[%s] [SQL parameters hidden due to hide_parameters=True]",
                    stats,
                )
    
        evt_handled: bool = False
        try:
            if context.execute_style is ExecuteStyle.EXECUTEMANY:
                effective_parameters = cast(
                    "_CoreMultiExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_executemany:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_executemany(
                        cursor,
                        str_statement,
                        effective_parameters,
                        context,
                    )
            elif not effective_parameters and context.no_parameters:
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute_no_params:
                        if fn(cursor, str_statement, context):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_execute_no_params(
                        cursor, str_statement, context
                    )
            else:
                effective_parameters = cast(
                    "_CoreSingleExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
>                   self.dialect.do_execute(
                        cursor, str_statement, effective_parameters, context
                    )

venv\Lib\site-packages\sqlalchemy\engine\base.py:1967: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv\Lib\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <psycopg.Cursor [closed] [IDLE] (host=127.0.0.1 user=psych_rag_app_user_test database=psych_rag_test) at 0x1e70d6068d0>
query = '\n            CREATE OR REPLACE FUNCTION update_prompt_meta_updated_at()\n            RETURNS TRIGGER AS $$\n        ...ated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ LANGUAGE plpgsql\n        '
params = {}

    def execute(
        self,
        query: Query,
        params: Params | None = None,
        *,
        prepare: bool | None = None,
        binary: bool | None = None,
    ) -> Self:
        """
        Execute a query or command to the database.
        """
        try:
            with self._conn.lock:
                self._conn.wait(
                    self._execute_gen(query, params, prepare=prepare, binary=binary)
                )
        except e._NO_TRACEBACK as ex:
>           raise ex.with_traceback(None)
E           psycopg.errors.InsufficientPrivilege: must be owner of function update_prompt_meta_updated_at

venv\Lib\site-packages\psycopg\cursor.py:97: InsufficientPrivilege

The above exception was the direct cause of the following exception:

self = <tests.unit.test_init_db.TestInitDatabase object at 0x000001E70D374620>, mock_create_db = <MagicMock name='create_database_and_user' id='2091900574160'>
mock_create_tables = <MagicMock name='create_tables' id='2091900580592'>

    @patch("psychrag.data.init_db.create_tables")
    @patch("psychrag.data.init_db.create_database_and_user")
    def test_calls_both_functions(self, mock_create_db, mock_create_tables):
        """Test that init_database calls both setup functions."""
>       init_database(verbose=True)

tests\unit\test_init_db.py:81: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
src\psychrag\data\init_db.py:501: in init_database
    create_prompt_meta_table(verbose=verbose)
src\psychrag\data\init_db.py:293: in create_prompt_meta_table
    conn.execute(text("""
venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
venv\Lib\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
venv\Lib\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
venv\Lib\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
venv\Lib\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
venv\Lib\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
venv\Lib\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
venv\Lib\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <psycopg.Cursor [closed] [IDLE] (host=127.0.0.1 user=psych_rag_app_user_test database=psych_rag_test) at 0x1e70d6068d0>
query = '\n            CREATE OR REPLACE FUNCTION update_prompt_meta_updated_at()\n            RETURNS TRIGGER AS $$\n        ...ated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ LANGUAGE plpgsql\n        '
params = {}

    def execute(
        self,
        query: Query,
        params: Params | None = None,
        *,
        prepare: bool | None = None,
        binary: bool | None = None,
    ) -> Self:
        """
        Execute a query or command to the database.
        """
        try:
            with self._conn.lock:
                self._conn.wait(
                    self._execute_gen(query, params, prepare=prepare, binary=binary)
                )
        except e._NO_TRACEBACK as ex:
>           raise ex.with_traceback(None)
E           sqlalchemy.exc.ProgrammingError: (psycopg.errors.InsufficientPrivilege) must be owner of function update_prompt_meta_updated_at
E           [SQL: 
E                       CREATE OR REPLACE FUNCTION update_prompt_meta_updated_at()
E                       RETURNS TRIGGER AS $$
E                       BEGIN
E                           NEW.updated_at = CURRENT_TIMESTAMP;
E                           RETURN NEW;
E                       END;
E                       $$ LANGUAGE plpgsql
E                   ]
E           (Background on this error at: https://sqlalche.me/e/20/f405)

venv\Lib\site-packages\psycopg\cursor.py:97: ProgrammingError
---------------------------------------------------------------------------------------- Captured stdout call ----------------------------------------------------------------------------------------
Enabling pgvector extension...
pgvector extension enabled
Creating vector indexes...
Vector indexes created successfully
Creating full-text search infrastructure...
Transferred ownership of full-text search function to psych_rag_app_user_test
Full-text search infrastructure created successfully
Creating prompt_meta table...
__________________________________________________________________________ TestListPresets.test_list_presets_default_first ___________________________________________________________________________

self = <tests.unit.test_rag_config_api.TestListPresets object at 0x000001E70D4FFE90>

    def test_list_presets_default_first(self):
        """Test that default preset appears first in list."""
        response = client.get("/api/rag-config/")
        data = response.json()
    
        # First item should be default
>       assert data[0]["is_default"] is True
E       assert False is True

tests\unit\test_rag_config_api.py:36: AssertionError
___________________________________________________________________________ TestGetDefaultPreset.test_get_default_success ____________________________________________________________________________

self = <tests.unit.test_rag_config_api.TestGetDefaultPreset object at 0x000001E70D4FF230>

    def test_get_default_success(self):
        """Test successful retrieval of default preset."""
        response = client.get("/api/rag-config/default")
>       assert response.status_code == 200
E       assert 404 == 200
E        +  where 404 = <Response [404 Not Found]>.status_code

tests\unit\test_rag_config_api.py:45: AssertionError
________________________________________________________________________ TestGetPresetByName.test_get_preset_by_name_success _________________________________________________________________________

self = <tests.unit.test_rag_config_api.TestGetPresetByName object at 0x000001E70D5443B0>

    def test_get_preset_by_name_success(self):
        """Test successful retrieval by name."""
        response = client.get("/api/rag-config/Default")
>       assert response.status_code == 200
E       assert 404 == 200
E        +  where 404 = <Response [404 Not Found]>.status_code

tests\unit\test_rag_config_api.py:59: AssertionError
_________________________________________________________________________ TestCreatePreset.test_create_preset_duplicate_name _________________________________________________________________________

self = <tests.unit.test_rag_config_api.TestCreatePreset object at 0x000001E70D544E30>

    def test_create_preset_duplicate_name(self):
        """Test 409 conflict for duplicate name."""
        payload = {
            "preset_name": "Default",  # Existing preset
            "is_default": False,
            "config": {
                "retrieval": {
                    "dense_limit": 19,
                    "lexical_limit": 5,
                    "rrf_k": 50,
                    "top_k_rrf": 75,
                    "top_n_final": 17,
                    "entity_boost": 0.05,
                    "min_word_count": 150,
                    "min_char_count": 250,
                    "min_content_length": 750,
                    "enrich_lines_above": 0,
                    "enrich_lines_below": 13,
                    "mmr_lambda": 0.7,
                    "reranker_batch_size": 8,
                    "reranker_max_length": 512
                },
                "consolidation": {
                    "coverage_threshold": 0.5,
                    "line_gap": 7,
                    "min_content_length": 350,
                    "enrich_from_md": True
                },
                "augmentation": {
                    "top_n_contexts": 5
                }
            }
        }
    
        response = client.post("/api/rag-config/", json=payload)
>       assert response.status_code == 409
E       assert 201 == 409
E        +  where 201 = <Response [201 Created]>.status_code

tests\unit\test_rag_config_api.py:154: AssertionError
__________________________________________________________________________ TestDefaultPresetSeed.test_default_preset_exists __________________________________________________________________________

self = <tests.unit.test_rag_config_db.TestDefaultPresetSeed object at 0x000001E70D547470>

    def test_default_preset_exists(self):
        """Verify default preset was created."""
        with engine.connect() as conn:
            result = conn.execute(text("""
                SELECT preset_name, is_default, description
                FROM rag_config
                WHERE preset_name = 'Default'
            """))
            row = result.fetchone()
    
            assert row is not None
            assert row[0] == 'Default'
            assert row[1] == True  # Use equality check, not identity check
>           assert row[2] is not None
E           assert None is not None

tests\unit\test_rag_config_db.py:187: AssertionError
__________________________________________________________________ TestGetAllPresetNames.test_get_all_preset_names_includes_default __________________________________________________________________

self = <tests.unit.test_rag_config_loader.TestGetAllPresetNames object at 0x000001E70D576CC0>

    def test_get_all_preset_names_includes_default(self):
        """Test that default preset is included."""
        names = get_all_preset_names()
>       assert "Default" in names
E       AssertionError: assert 'Default' in ['Balanced', 'Test Settings']

tests\unit\test_rag_config_loader.py:149: AssertionError
_________________________________________________________________________________ TestRagConfigModel.test_model_repr _________________________________________________________________________________

self = <tests.unit.test_rag_config_loader.TestRagConfigModel object at 0x000001E70D574170>

    def test_model_repr(self):
        """Test __repr__ method."""
        with get_session() as session:
            default = session.query(RagConfig).filter(RagConfig.is_default == True).first()
            repr_str = repr(default)
    
>           assert "RagConfig" in repr_str
E           AssertionError: assert 'RagConfig' in 'None'

tests\unit\test_rag_config_loader.py:219: AssertionError
====================================================================================== short test summary info =======================================================================================
FAILED tests/unit/test_api_endpoints.py::TestInitRouter::test_init_database - assert 500 == 201
FAILED tests/unit/test_augment.py::TestGetQueryWithContext::test_get_query_not_found - RuntimeError: No default RAG configuration found in database. Run database initialization to create default p...
FAILED tests/unit/test_augment.py::TestGetQueryWithContext::test_get_query_no_contexts - RuntimeError: No default RAG configuration found in database. Run database initialization to create default...
FAILED tests/unit/test_init_db.py::TestInitDatabase::test_calls_both_functions - sqlalchemy.exc.ProgrammingError: (psycopg.errors.InsufficientPrivilege) must be owner of function update_prompt_met...
FAILED tests/unit/test_rag_config_api.py::TestListPresets::test_list_presets_default_first - assert False is True
FAILED tests/unit/test_rag_config_api.py::TestGetDefaultPreset::test_get_default_success - assert 404 == 200
FAILED tests/unit/test_rag_config_api.py::TestGetPresetByName::test_get_preset_by_name_success - assert 404 == 200
FAILED tests/unit/test_rag_config_api.py::TestCreatePreset::test_create_preset_duplicate_name - assert 201 == 409
FAILED tests/unit/test_rag_config_db.py::TestDefaultPresetSeed::test_default_preset_exists - assert None is not None
FAILED tests/unit/test_rag_config_loader.py::TestGetAllPresetNames::test_get_all_preset_names_includes_default - AssertionError: assert 'Default' in ['Balanced', 'Test Settings']
FAILED tests/unit/test_rag_config_loader.py::TestRagConfigModel::test_model_repr - AssertionError: assert 'RagConfig' in 'None'
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_success
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_overwrite_readonly
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_not_found
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_no_files
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_invalid_source_key
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_missing_markdown_file
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_missing_title_changes_file
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_hash_mismatch
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_hash_mismatch_force
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_sanitized_source
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_markdown_not_found_on_disk
ERROR tests/unit/test_apply_title_changes.py::TestApplyTitleChangesFromWork::test_apply_title_changes_from_work_title_changes_not_found_on_disk
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversion::test_delete_conversion_success
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversion::test_delete_conversion_no_matching_files
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversion::test_delete_conversion_verbose_mode
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversionErrorHandling::test_delete_conversion_io_file_not_found
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversionErrorHandling::test_delete_conversion_invalid_filename_no_extension
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversionErrorHandling::test_delete_conversion_output_dir_not_exists
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversionErrorHandling::test_delete_conversion_file_deletion_error_handled
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversionCascadeDeletion::test_delete_conversion_only_deletes_matching_base_name
ERROR tests/unit/test_delete_conversion.py::TestDeleteConversionCascadeDeletion::test_delete_conversion_multiple_extensions
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_success
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_sanitized_source
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_not_found
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_no_files
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_invalid_source_key
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_missing_source_file
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_file_not_found_on_disk
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_hash_mismatch
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_hash_mismatch_force
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_overwrite_existing
ERROR tests/unit/test_extract_titles.py::TestExtractTitlesFromWork::test_extract_titles_from_work_no_headings
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCreation::test_create_prompt_meta_basic
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCreation::test_create_prompt_meta_with_variables
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCreation::test_repr
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaVariableDict::test_variable_dict_empty
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaVariableDict::test_variable_dict_conversion
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaVariableDict::test_variable_dict_missing_fields
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaVariableDict::test_variable_dict_non_dict_items
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaConstraints::test_unique_function_tag_constraint
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaConstraints::test_function_tag_required
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaConstraints::test_variables_required
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCRUD::test_create_prompt_meta
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCRUD::test_read_prompt_meta
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCRUD::test_update_prompt_meta
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCRUD::test_delete_prompt_meta
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaCRUD::test_query_by_function_tag
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaTimestamps::test_timestamps_auto_populate
ERROR tests/unit/test_prompt_meta_model.py::TestPromptMetaTimestamps::test_multiple_meta_different_timestamps
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateCreation::test_create_prompt_template
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateCreation::test_default_values
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateCreation::test_repr
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateValidation::test_version_validation_positive
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateValidation::test_version_validation_zero
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateValidation::test_version_validation_negative
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateConstraints::test_unique_constraint
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateConstraints::test_function_tag_required
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateConstraints::test_template_content_required
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateConstraints::test_check_constraint_version_positive
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateQueries::test_query_by_function_tag
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateQueries::test_query_active_template
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateQueries::test_query_specific_version
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateQueries::test_query_no_results
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateQueries::test_query_multiple_functions
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateLangChainCompatibility::test_langchain_template_loading
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateLangChainCompatibility::test_langchain_template_with_multiple_variables
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateUpdates::test_update_template_content
ERROR tests/unit/test_prompt_template_model.py::TestPromptTemplateUpdates::test_toggle_active_status
ERROR tests/unit/test_query_embeddings.py::TestGetPendingQueriesCount::test_get_pending_queries_count_zero
ERROR tests/unit/test_query_embeddings.py::TestGetPendingQueriesCount::test_get_pending_queries_count_single
ERROR tests/unit/test_query_embeddings.py::TestGetPendingQueriesCount::test_get_pending_queries_count_multiple
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_basic
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_with_mqe
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_with_hyde
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_with_all_fields
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_not_found
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_embedding_error
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_verbose
ERROR tests/unit/test_query_embeddings.py::TestVectorizeQuery::test_vectorize_query_empty_mqe_list
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_empty
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_single_success
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_multiple_success
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_with_failures
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_all_failures
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_verbose
ERROR tests/unit/test_query_embeddings.py::TestVectorizeAllQueries::test_vectorize_all_queries_mixed_embeddings
ERROR tests/unit/test_query_expansion.py::TestSaveExpansionToDb::test_save_expansion_to_db_basic
ERROR tests/unit/test_query_expansion.py::TestSaveExpansionToDb::test_save_expansion_to_db_empty_fields
ERROR tests/unit/test_query_expansion.py::TestSaveExpansionToDb::test_save_expansion_to_db_returns_id
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_basic
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_query_not_found
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_query_not_vectorized
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_no_matches
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_with_config_preset
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_top_k
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_with_mqe_queries
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_filters_short_chunks
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_with_entities_and_intent
ERROR tests/unit/test_retrieve.py::TestRetrieveFunction::test_retrieve_verbose_output
ERROR tests/unit/test_retrieve.py::TestDenseSearch::test_dense_search_mocked
ERROR tests/unit/test_retrieve.py::TestLexicalSearch::test_lexical_search_mocked
============================================================================ 11 failed, 928 passed, 101 errors in 23.33s =============================================================================
